<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Resume Builder</title>

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      background: radial-gradient(circle at top, #e0f2fe, #f4f6fb);
      min-height: 100vh;
    }
    .navbar-brand span {
      font-weight: 700;
    }
    .page-container {
      min-height: calc(100vh - 56px);
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 2rem 1rem;
    }
    .card {
      border-radius: 1rem;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.12);
      border: none;
    }
    .resume-preview {
      white-space: pre-wrap;
      font-family: "Consolas", "Courier New", monospace;
      background: #020617;
      color: #e5e7eb;
      padding: 1.25rem;
      border-radius: 0.75rem;
      max-height: 78vh;
      overflow-y: auto;
      border: 1px solid rgba(148, 163, 184, 0.3);
    }
    .badge-soft {
      background: rgba(59, 130, 246, 0.1);
      color: #1d4ed8;
      border-radius: 999px;
      padding: 0.35rem 0.8rem;
      font-size: 0.75rem;
      font-weight: 500;
    }
    .section-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
      font-weight: 600;
      margin-bottom: 0.5rem;
      margin-top: 0.75rem;
    }
    .btn-pill {
      border-radius: 999px;
    }
    @media (max-width: 992px) {
      .page-container {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="/resume">
        <span class="me-2">ðŸ§ </span><span>InterviewPrep AI</span>
      </a>
      <div class="d-flex gap-2">
        <a href="/resume" class="btn btn-sm btn-outline-primary btn-pill">Resume</a>
        <span class="badge bg-light text-dark">Resume Builder</span>
      </div>
    </div>
  </nav>

  <div class="page-container">
    <div class="container">
      <div class="row g-4">
        <!-- LEFT: FORM -->
        <div class="col-lg-6">
          <div class="card p-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h4 class="mb-1">AI Resume Builder</h4>
                <p class="text-muted small mb-0">
                  Fill in your details (or upload an old resume) and get an ATS-optimized resume.
                </p>
              </div>
              <span class="badge-soft">Gemini Powered</span>
            </div>

            <form
              method="POST"
              action="/resume"
              enctype="multipart/form-data"
              class="needs-validation"
              novalidate
            >
              <div class="section-title">Basic Info</div>

              <div class="mb-3">
                <label class="form-label">Full Name<span class="text-danger">*</span></label>
                <input type="text" name="name" class="form-control" required />
              </div>

              <div class="mb-3">
                <label class="form-label">Headline</label>
                <input
                  type="text"
                  name="headline"
                  class="form-control"
                  placeholder="Eg: Final-year IT student | Aspiring Software Engineer"
                />
              </div>

              <div class="mb-3">
                <label class="form-label">Contact</label>
                <input
                  type="text"
                  name="contact"
                  class="form-control"
                  placeholder="email@example.com | +91-9xxxx xxxxx"
                  required
                />
              </div>

              <div class="mb-3">
                <label class="form-label">Location</label>
                <input
                  type="text"
                  name="location"
                  class="form-control"
                  placeholder="Dindigul, Tamil Nadu, India"
                />
              </div>

              <div class="mb-3">
                <label class="form-label">LinkedIn URL</label>
                <input
                  type="url"
                  name="linkedin"
                  class="form-control"
                  placeholder="https://www.linkedin.com/in/your-profile"
                />
              </div>

              <div class="mb-3">
                <label class="form-label">Portfolio / GitHub (optional)</label>
                <input
                  type="url"
                  name="portfolio"
                  class="form-control"
                  placeholder="https://github.com/username"
                />
              </div>

              <div class="section-title">Profile Details</div>

              <div class="mb-3">
                <label class="form-label">Education</label>
                <textarea
                  name="education"
                  class="form-control"
                  rows="2"
                  placeholder="- B.Tech IT, PSNACET, 2026, CGPA 8.5/10"
                ></textarea>
              </div>

              <div class="mb-3">
                <label class="form-label">Experience / Internships</label>
                <textarea
                  name="experience"
                  class="form-control"
                  rows="3"
                  placeholder="- Intern, Company Name â€“ Worked on ...&#10;- Part-time / Freelance work..."
                ></textarea>
              </div>

              <div class="mb-3">
                <label class="form-label">Projects</label>
                <textarea
                  name="projects"
                  class="form-control"
                  rows="3"
                  placeholder="- AI-based Interview Prep System â€“ Built with Flask, Gemini API...&#10;- Mental Health Chatbot â€“ Deployed using ..."
                ></textarea>
              </div>

              <div class="mb-3">
                <label class="form-label">Skills (comma separated)</label>
                <input
                  type="text"
                  name="skills"
                  class="form-control"
                  placeholder="Python, Machine Learning, Flask, SQL, HTML, CSS, JavaScript"
                />
              </div>

              <div class="mb-3">
                <label class="form-label">Achievements (optional)</label>
                <textarea
                  name="achievements"
                  class="form-control"
                  rows="2"
                  placeholder="- Won 1st place in project expo...&#10;- Top 5 in national level hackathon..."
                ></textarea>
              </div>

              <div class="section-title">Extra Sources</div>

              <div class="mb-3">
                <label class="form-label">Upload Old Resume (optional, .txt only)</label>
                <input
                  type="file"
                  name="old_resume"
                  class="form-control"
                  accept=".txt"
                />
                <div class="form-text">
                  For now, upload plain text resumes. (You can add PDF/DOCX parsing later.)
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">LinkedIn Summary / About (optional)</label>
                <textarea
                  name="linkedin_profile"
                  class="form-control"
                  rows="3"
                  placeholder="Paste your LinkedIn 'About' or profile summary here..."
                ></textarea>
              </div>

              <div class="section-title">Target Job</div>

              <div class="mb-3">
                <label class="form-label">Target Role</label>
                <input
                  type="text"
                  name="target_role"
                  class="form-control"
                  placeholder="Eg: Software Engineer, Data Analyst, Frontend Developer"
                />
              </div>

              <div class="mb-3">
                <label class="form-label">Job Description (optional)</label>
                <textarea
                  name="job_description"
                  class="form-control"
                  rows="4"
                  placeholder="Paste the JD here so the resume is optimized with matching keywords and responsibilities..."
                ></textarea>
              </div>

              <div class="mb-3">
                <label class="form-label">Tone</label>
                <select name="tone" class="form-select">
                  <option value="corporate">Corporate</option>
                  <option value="entry-level">Entry Level</option>
                  <option value="technical">Technical</option>
                  <option value="creative">Creative</option>
                </select>
              </div>

              <div class="mb-3">
                <label class="form-label">Template Style</label>
                <select name="template_style" class="form-select">
                  <option value="classic">Classic</option>
                  <option value="modern">Modern</option>
                  <option value="minimal">Minimal</option>
                </select>
              </div>

              <div class="d-grid gap-2 mt-3">
                <button type="submit" class="btn btn-primary btn-pill">
                  âœ¨ Generate Resume with AI
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- RIGHT: PREVIEW + ACTIONS -->
        <div class="col-lg-6">
          <div class="card p-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h4 class="mb-0">Resume Preview</h4>
              <div class="btn-group">
                {% if resume_profile %}
                  <a href="/resume/download/pdf" class="btn btn-success btn-sm btn-pill">
                    â¬‡ Download PDF
                  </a>
                  <a href="/resume/download/docx" class="btn btn-primary btn-sm btn-pill">
                    â¬‡ Download DOCX
                  </a>
                {% endif %}
              </div>
            </div>

            {% if resume_profile %}
              <iframe
                src="/resume/preview/{{ template_style }}"
                style="width: 100%; height: 78vh; border: 1px solid rgba(148, 163, 184, 0.3); border-radius: 0.75rem;"
                id="resumePreview"
              ></iframe>
            {% else %}
              <p class="text-muted mb-1">
                After you submit the form, your AI-generated resume will appear here.
              </p>
              <ul class="text-muted small mb-0">
                <li>Fill your education, projects, and skills clearly.</li>
                <li>Paste a real job description for ATS optimization.</li>
                <li>Select a template style and download as PDF or DOCX.</li>
              </ul>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
  </script>
</body>
</html>
